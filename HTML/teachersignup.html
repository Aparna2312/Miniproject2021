<doctype html>
  <html>
    <head>
      <title>HTML FORM</title>
      <link href="../CSS/signup.css" type="text/css" rel="stylesheet" />
    </head>
    <body  style="background-image: url(../image/bg2.jpg)">
      <div class="main">
        <h1 style="color: rgb(7, 8, 8)">ADD New Teacher</h1>
        <form action="" id="form">
          <p class="para">
            <i class="fa fa-user" aria-hidden="true"></i>
            Enter Teacher Name <br />
            <input
              type="text"
              name="text"
              id="username"
              placeholder="Enter Your Name"
              size="50"
            />
            <br />
          </p>

          <p class="para">
            <i class="fa fa-user" aria-hidden="true"></i>
            Enter Teacher ID <br />
            <input
              type="text"
              name="text"
              id="username"
              placeholder="Teacher ID"
              size="50"
            />
            <br />
          </p>

          <p class="para">
            <i class="fa fa-user" aria-hidden="true"></i>
            Enter teacher mail id <br />
            <input
              type="email"
              name="mail"
              id="email"
              placeholder="Enter Mail id"
              size="50"
            />
            <br />
          </p>

          <p class="para">
            <i class="fa fa-lock" aria-hidden="true"></i>
            Create password <br />
            <input
              type="password"
              name="pass"
              id="pass"
              placeholder="Enter Password"
              size="50"
            />
            <br />
          </p>
          <span style="margin-top: 15px">
            <input type="checkbox" onclick="myFunction()" />Show Password
          </span>

          <script>
            function myFunction() {
              var x = document.getElementById("pass");
              if (x.type === "password") {
                x.type = "text";
              } else {
                x.type = "password";
              }
            }
          </script>
          <br />
        </form>
        <button
          id="signup"
          class="btn"
          style="
            background: rgba(0, 0, 200);
            height: 40px;
            width: 100px;
            font-size: 20px;
            color: white;
          "
        >
          ADD
        </button>
      </div>

      <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
        import {
          getAuth,
          createUserWithEmailAndPassword,
          signInWithEmailAndPassword,
        } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBhPtnZl7wyDuLU6pydAIJ7w61W45VRpAI",
          authDomain: "teacher-auth-679b3.firebaseapp.com",
          projectId: "teacher-auth-679b3",
          storageBucket: "teacher-auth-679b3.appspot.com",
          messagingSenderId: "525843272739",
          appId: "1:525843272739:web:83ac3a61855401064acd96",
        };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        var form = document.getElementById("form");
        document
          .getElementById("signup")
          .addEventListener("click", function () {
            const email = document.getElementById("email").value;
            const password = document.getElementById("pass").value;

            createUserWithEmailAndPassword(auth, email, password)
              .then((userCredential) => {
                // Signed in
                const user = userCredential.user;
                console.log("created");
                alert(
                  document.getElementById("username").value +
                    " is added to database"
                );
                form.reset();

                // ...
              })
              .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                alert(errorCode + errorMessage);
                // ..
              });
          });
      </script>
    </body>
  </html>
</doctype>
